(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{180:function(t,e,n){var content=n(315);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("3065cc84",content,!0,{sourceMap:!1})},181:function(t,e,n){var content=n(317);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("bc64e8ca",content,!0,{sourceMap:!1})},313:function(t,e,n){var map={"./af":183,"./af.js":183,"./ar":184,"./ar-dz":185,"./ar-dz.js":185,"./ar-kw":186,"./ar-kw.js":186,"./ar-ly":187,"./ar-ly.js":187,"./ar-ma":188,"./ar-ma.js":188,"./ar-sa":189,"./ar-sa.js":189,"./ar-tn":190,"./ar-tn.js":190,"./ar.js":184,"./az":191,"./az.js":191,"./be":192,"./be.js":192,"./bg":193,"./bg.js":193,"./bm":194,"./bm.js":194,"./bn":195,"./bn.js":195,"./bo":196,"./bo.js":196,"./br":197,"./br.js":197,"./bs":198,"./bs.js":198,"./ca":199,"./ca.js":199,"./cs":200,"./cs.js":200,"./cv":201,"./cv.js":201,"./cy":202,"./cy.js":202,"./da":203,"./da.js":203,"./de":204,"./de-at":205,"./de-at.js":205,"./de-ch":206,"./de-ch.js":206,"./de.js":204,"./dv":207,"./dv.js":207,"./el":208,"./el.js":208,"./en-SG":209,"./en-SG.js":209,"./en-au":210,"./en-au.js":210,"./en-ca":211,"./en-ca.js":211,"./en-gb":212,"./en-gb.js":212,"./en-ie":213,"./en-ie.js":213,"./en-il":214,"./en-il.js":214,"./en-nz":215,"./en-nz.js":215,"./eo":216,"./eo.js":216,"./es":217,"./es-do":218,"./es-do.js":218,"./es-us":219,"./es-us.js":219,"./es.js":217,"./et":220,"./et.js":220,"./eu":221,"./eu.js":221,"./fa":222,"./fa.js":222,"./fi":223,"./fi.js":223,"./fo":224,"./fo.js":224,"./fr":225,"./fr-ca":226,"./fr-ca.js":226,"./fr-ch":227,"./fr-ch.js":227,"./fr.js":225,"./fy":228,"./fy.js":228,"./ga":229,"./ga.js":229,"./gd":230,"./gd.js":230,"./gl":231,"./gl.js":231,"./gom-latn":232,"./gom-latn.js":232,"./gu":233,"./gu.js":233,"./he":234,"./he.js":234,"./hi":235,"./hi.js":235,"./hr":236,"./hr.js":236,"./hu":237,"./hu.js":237,"./hy-am":238,"./hy-am.js":238,"./id":239,"./id.js":239,"./is":240,"./is.js":240,"./it":241,"./it-ch":242,"./it-ch.js":242,"./it.js":241,"./ja":243,"./ja.js":243,"./jv":244,"./jv.js":244,"./ka":245,"./ka.js":245,"./kk":246,"./kk.js":246,"./km":247,"./km.js":247,"./kn":248,"./kn.js":248,"./ko":249,"./ko.js":249,"./ku":250,"./ku.js":250,"./ky":251,"./ky.js":251,"./lb":252,"./lb.js":252,"./lo":253,"./lo.js":253,"./lt":254,"./lt.js":254,"./lv":255,"./lv.js":255,"./me":256,"./me.js":256,"./mi":257,"./mi.js":257,"./mk":258,"./mk.js":258,"./ml":259,"./ml.js":259,"./mn":260,"./mn.js":260,"./mr":261,"./mr.js":261,"./ms":262,"./ms-my":263,"./ms-my.js":263,"./ms.js":262,"./mt":264,"./mt.js":264,"./my":265,"./my.js":265,"./nb":266,"./nb.js":266,"./ne":267,"./ne.js":267,"./nl":268,"./nl-be":269,"./nl-be.js":269,"./nl.js":268,"./nn":270,"./nn.js":270,"./pa-in":271,"./pa-in.js":271,"./pl":272,"./pl.js":272,"./pt":273,"./pt-br":274,"./pt-br.js":274,"./pt.js":273,"./ro":275,"./ro.js":275,"./ru":276,"./ru.js":276,"./sd":277,"./sd.js":277,"./se":278,"./se.js":278,"./si":279,"./si.js":279,"./sk":280,"./sk.js":280,"./sl":281,"./sl.js":281,"./sq":282,"./sq.js":282,"./sr":283,"./sr-cyrl":284,"./sr-cyrl.js":284,"./sr.js":283,"./ss":285,"./ss.js":285,"./sv":286,"./sv.js":286,"./sw":287,"./sw.js":287,"./ta":288,"./ta.js":288,"./te":289,"./te.js":289,"./tet":290,"./tet.js":290,"./tg":291,"./tg.js":291,"./th":292,"./th.js":292,"./tl-ph":293,"./tl-ph.js":293,"./tlh":294,"./tlh.js":294,"./tr":295,"./tr.js":295,"./tzl":296,"./tzl.js":296,"./tzm":297,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":297,"./ug-cn":299,"./ug-cn.js":299,"./uk":300,"./uk.js":300,"./ur":301,"./ur.js":301,"./uz":302,"./uz-latn":303,"./uz-latn.js":303,"./uz.js":302,"./vi":304,"./vi.js":304,"./x-pseudo":305,"./x-pseudo.js":305,"./yo":306,"./yo.js":306,"./zh-cn":307,"./zh-cn.js":307,"./zh-hk":308,"./zh-hk.js":308,"./zh-tw":309,"./zh-tw.js":309};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=313},314:function(t,e,n){"use strict";var r=n(180);n.n(r).a},315:function(t,e,n){(e=n(39)(!1)).push([t.i,"canvas[data-v-a5a2b7c4] {\n  width: 100%;\n}\n",""]),t.exports=e},316:function(t,e,n){"use strict";var r=n(181);n.n(r).a},317:function(t,e,n){(e=n(39)(!1)).push([t.i,".github-corner:hover .octo-arm[data-v-1f817d6a] {\n  -webkit-animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n          animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n}\n@-webkit-keyframes octocat-wave-data-v-1f817d6a {\n0%,\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\n20%,\n  60% {\n    -webkit-transform: rotate(-25deg);\n            transform: rotate(-25deg);\n}\n40%,\n  80% {\n    -webkit-transform: rotate(10deg);\n            transform: rotate(10deg);\n}\n}\n@keyframes octocat-wave-data-v-1f817d6a {\n0%,\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\n20%,\n  60% {\n    -webkit-transform: rotate(-25deg);\n            transform: rotate(-25deg);\n}\n40%,\n  80% {\n    -webkit-transform: rotate(10deg);\n            transform: rotate(10deg);\n}\n}\n@media (max-width: 500px) {\n.github-corner:hover .octo-arm[data-v-1f817d6a] {\n    -webkit-animation: none;\n            animation: none;\n}\n.github-corner .octo-arm[data-v-1f817d6a] {\n    -webkit-animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n            animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n}\n}\n",""]),t.exports=e},318:function(t,e,n){"use strict";n.r(e);n(21),n(14),n(57);var r=n(182),o=(n(72),n(73),n(41),n(5)),l=n(310),c=n.n(l),d=(n(311),{props:{datasets:{type:Array,required:!0},labels:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{datasets:{deep:!0,handler:function(){this.chart.data.labels=this.labels,this.chart.data.datasets=this.datasets,this.chart.update()}}},mounted:function(){this.chart=new window.Chart(this.$refs.chart,{type:"line",data:{labels:this.labels,datasets:this.datasets},options:{legend:{display:!1}}})}}),h=(n(314),n(20)),f=Object(h.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"chart",attrs:{id:"myChart"}})}),[],!1,null,"a5a2b7c4",null).exports,v={props:{value:{type:String,required:!0}}},j=Object(h.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"h-full",style:{"background-color":this.$color.hex(this.value)}},[this._v("Â ")])}),[],!1,null,null,null).exports,m={components:{ColorSurface:j},props:{value:{type:Array,default:function(){return[]}},options:{type:Array,required:!0}},methods:{updateValue:function(t){var e=t.target.value;this.value.includes(e)?this.$emit("input",this.value.filter((function(t){return t!==e}))):this.$emit("input",[].concat(Object(r.a)(this.value),[e]))}}},w=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-32 overflow-y-scroll"},t._l(t.options,(function(option){return n("div",{key:option.value,staticClass:"m-1"},[n("color-surface",{staticClass:"w-8 inline-block",attrs:{value:option.value}}),t._v(" "),n("input",{attrs:{id:option.value,type:"checkbox"},domProps:{value:option.value,checked:t.value.includes(option.value)},on:{input:t.updateValue}}),t._v(" "),n("label",{staticClass:"pl-1 pr-3",attrs:{for:option.value}},[t._v(t._s(option.label))])],1)})),0)}),[],!1,null,"23a0d804",null).exports,y={components:{ColorSurface:j},props:{value:{type:Object,required:!0},columns:{type:Array,required:!0}},methods:{changeSorting:function(t){this.value.prop===t?this.$emit("input",{prop:this.value.prop,desc:!this.value.desc}):this.$emit("input",{prop:t,desc:!0})}}},k=Object(h.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"border-t border-b p-y-2 bg-grey-lighter"},t._l(t.columns,(function(e){return n("div",{key:e.value,staticClass:"cursor-pointer truncate inline-block font-semibold text-sm p-2",class:{"text-black":t.value.prop===e.value,"text-grey-dark":t.value.prop!==e.value},style:{width:e.width+"px"},on:{click:function(n){return t.changeSorting(e.value)}}},[t._v("\n    "+t._s(e.label)+"\n  ")])})),0)}),[],!1,null,"6ea8cbc7",null).exports,C={components:{ColorSurface:j},props:{columns:{type:Array,required:!0},row:{type:Object,required:!0}},methods:{changeSorting:function(t){this.value.prop===t?this.$emit("input",{prop:this.value.prop,desc:!this.value.desc}):this.$emit("input",{prop:t,desc:!0})}}},_={components:{ColorSurface:j,TableHeader:k,TableRow:Object(h.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"border-b "},t.$listeners),t._l(t.columns,(function(e){return n("div",{key:e.value,staticClass:"truncate inline-block text-sm p-2",style:{width:e.width+"px"}},[t._v("\n    "+t._s(t.row[e.value])+"\n    "),t._t("column-"+e.value)],2)})),0)}),[],!1,null,"513bd780",null).exports},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,required:!0}},data:function(){return{sort:{prop:"total_cases",desc:!0}}},computed:{locations:function(){var t=[];return this.data.forEach((function(e){t.includes(e.location)||t.push(e.location)})),t},columns:function(){return[{label:"",value:"color",width:36},{label:"Location",value:"location",width:250},{label:"New Deaths",value:"new_deaths",width:120},{label:"Total Deaths",value:"total_deaths",width:120},{label:"New Cases",value:"new_cases",width:120},{label:"Total Cases",value:"total_cases",width:120}]},width:function(){var t=0;return this.columns.forEach((function(e){t+=e.width})),t},rows:function(){var t=this,e=this.locations.map((function(e){var n=t.data.filter((function(t){return t.location===e})),r=n[n.length-1];return{key:r.location,location:r.location,new_cases:parseInt(r.new_cases||0,10),new_deaths:parseInt(r.new_deaths||0,10),total_cases:parseInt(r.total_cases||0,10),total_deaths:parseInt(r.total_deaths||0,10)}})).sort((function(a,b){return"string"==typeof a[t.sort.prop]?a[t.sort.prop].localeCompare(b[t.sort.prop]):a[t.sort.prop]-b[t.sort.prop]}));return this.sort.desc?e.reverse():e}},methods:{toggleSelection:function(t){this.value.includes(t)?this.$emit("input",this.value.filter((function(e){return e!==t}))):this.$emit("input",[].concat(Object(r.a)(this.value),[t]))}}},x=Object(h.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.width+"px"}},[n("table-header",{staticClass:"sticky top-0",attrs:{columns:t.columns},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}}),t._v(" "),n("div",t._l(t.rows,(function(e){return n("table-row",{key:e.key,staticClass:"cursor-pointer hover:opacity-75",class:{"opacity-50":!t.value.includes(e.key)},attrs:{columns:t.columns,row:e},on:{click:function(n){return t.toggleSelection(e.key)}}},[n("color-surface",{staticClass:"rounded-full",class:{"opacity-25":!t.value.includes(e.key)},attrs:{slot:"column-color",value:e.location},slot:"column-color"})],1)})),1)],1)}),[],!1,null,"31303d9e",null).exports,O={props:{url:{type:String,required:!0}}},z=(n(316),{components:{LineChart:f,MultiSelect:w,LocationTable:x,GithubCorner:Object(h.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"github-corner",attrs:{href:this.url,"aria-label":"View source on GitHub"}},[e("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6\n        C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6\n        130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2\n          139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2\n          159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2\n          C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2\n          216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8\n          198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9\n          152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])}),[],!1,null,"1f817d6a",null).exports},asyncData:function(t){var e=t.$axios;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://covid.ourworldindata.org/data/full_data.csv",t.next=3,e.get("https://covid.ourworldindata.org/data/full_data.csv");case 3:return n=t.sent,(r=c.a.parse(n.data,{header:!0,skipEmptyLines:!0})).errors&&r.errors.length&&console.error(r.errors),t.abrupt("return",{data:r.data});case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{data:[],selected:["World"]}},computed:{lastUpdate:function(){return this.dates[this.dates.length-1]},filteredData:function(){var t=this;return this.data.filter((function(e){return t.selected.includes(e.location)}))},locations:function(){var t=[];return this.data.forEach((function(e){t.includes(e.location)||t.push(e.location)})),t},dates:function(){var t=[];return this.data.forEach((function(e){t.includes(e.date)||t.push(e.date)})),t.sort()},currentCounts:function(){var t=this,e={};return this.locations.forEach((function(n){var r=t.data.filter((function(t){return t.location===n}));r.length?e[n]=r[r.length-1].total_cases:e[n]=0})),e},locationOptions:function(){var t=this;return Object(r.a)(this.locations).sort((function(a,b){return t.currentCounts[b]-t.currentCounts[a]})).map((function(e){return{value:e,label:"".concat(e," (").concat(t.currentCounts[e],")")}}))},datasets:function(){var t=this,e={};return this.filteredData.forEach((function(n){e[n.location]||(e[n.location]=t.getEmptyDataset()),e[n.location][t.dates.indexOf(n.date)]=n.total_cases})),Object.keys(e).map((function(n){return{label:n,data:e[n],backgroundColor:t.$color.rgba(n,.2),borderColor:t.$color.rgba(n,.8)}}))}},methods:{getEmptyDataset:function(){return this.dates.map((function(){return 0}))}}}),$=Object(h.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col lg:h-screen lg:overflow-hidden"},[n("header",{staticClass:"flex items-center p-8 min-h-72"},[n("h1",[t._v("\n      Corona Virus (COVID-19) Curves\n    ")]),t._v(" "),n("a",{staticClass:"p-4 text-blue no-underline",attrs:{href:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports/"}},[t._v("Data provided by WHO")]),t._v(" "),n("span",{staticClass:"text-grey-dark"},[t._v("Updated: "+t._s(t.lastUpdate))]),t._v(" "),n("github-corner",{attrs:{url:"https://github.com/paul-em/covid-19-curves"}})],1),t._v(" "),n("div",{staticClass:"flex flex-1 flex-col-reverse lg:overflow-hidden lg:flex-row"},[n("section",{staticClass:"flex flex-col lg:overflow-y-scroll overflow-x-auto"},[n("location-table",{attrs:{data:t.data},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._v(" "),n("section",{staticClass:"flex flex-col flex-1"},[n("line-chart",{attrs:{datasets:t.datasets,labels:t.dates}})],1)])])}),[],!1,null,null,null);e.default=$.exports}}]);