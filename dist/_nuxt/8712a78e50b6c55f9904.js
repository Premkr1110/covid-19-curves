(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{180:function(t,e,n){var content=n(315);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("3065cc84",content,!0,{sourceMap:!1})},181:function(t,e,n){var content=n(317);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("bc64e8ca",content,!0,{sourceMap:!1})},313:function(t,e,n){var map={"./af":182,"./af.js":182,"./ar":183,"./ar-dz":184,"./ar-dz.js":184,"./ar-kw":185,"./ar-kw.js":185,"./ar-ly":186,"./ar-ly.js":186,"./ar-ma":187,"./ar-ma.js":187,"./ar-sa":188,"./ar-sa.js":188,"./ar-tn":189,"./ar-tn.js":189,"./ar.js":183,"./az":190,"./az.js":190,"./be":191,"./be.js":191,"./bg":192,"./bg.js":192,"./bm":193,"./bm.js":193,"./bn":194,"./bn.js":194,"./bo":195,"./bo.js":195,"./br":196,"./br.js":196,"./bs":197,"./bs.js":197,"./ca":198,"./ca.js":198,"./cs":199,"./cs.js":199,"./cv":200,"./cv.js":200,"./cy":201,"./cy.js":201,"./da":202,"./da.js":202,"./de":203,"./de-at":204,"./de-at.js":204,"./de-ch":205,"./de-ch.js":205,"./de.js":203,"./dv":206,"./dv.js":206,"./el":207,"./el.js":207,"./en-SG":208,"./en-SG.js":208,"./en-au":209,"./en-au.js":209,"./en-ca":210,"./en-ca.js":210,"./en-gb":211,"./en-gb.js":211,"./en-ie":212,"./en-ie.js":212,"./en-il":213,"./en-il.js":213,"./en-nz":214,"./en-nz.js":214,"./eo":215,"./eo.js":215,"./es":216,"./es-do":217,"./es-do.js":217,"./es-us":218,"./es-us.js":218,"./es.js":216,"./et":219,"./et.js":219,"./eu":220,"./eu.js":220,"./fa":221,"./fa.js":221,"./fi":222,"./fi.js":222,"./fo":223,"./fo.js":223,"./fr":224,"./fr-ca":225,"./fr-ca.js":225,"./fr-ch":226,"./fr-ch.js":226,"./fr.js":224,"./fy":227,"./fy.js":227,"./ga":228,"./ga.js":228,"./gd":229,"./gd.js":229,"./gl":230,"./gl.js":230,"./gom-latn":231,"./gom-latn.js":231,"./gu":232,"./gu.js":232,"./he":233,"./he.js":233,"./hi":234,"./hi.js":234,"./hr":235,"./hr.js":235,"./hu":236,"./hu.js":236,"./hy-am":237,"./hy-am.js":237,"./id":238,"./id.js":238,"./is":239,"./is.js":239,"./it":240,"./it-ch":241,"./it-ch.js":241,"./it.js":240,"./ja":242,"./ja.js":242,"./jv":243,"./jv.js":243,"./ka":244,"./ka.js":244,"./kk":245,"./kk.js":245,"./km":246,"./km.js":246,"./kn":247,"./kn.js":247,"./ko":248,"./ko.js":248,"./ku":249,"./ku.js":249,"./ky":250,"./ky.js":250,"./lb":251,"./lb.js":251,"./lo":252,"./lo.js":252,"./lt":253,"./lt.js":253,"./lv":254,"./lv.js":254,"./me":255,"./me.js":255,"./mi":256,"./mi.js":256,"./mk":257,"./mk.js":257,"./ml":258,"./ml.js":258,"./mn":259,"./mn.js":259,"./mr":260,"./mr.js":260,"./ms":261,"./ms-my":262,"./ms-my.js":262,"./ms.js":261,"./mt":263,"./mt.js":263,"./my":264,"./my.js":264,"./nb":265,"./nb.js":265,"./ne":266,"./ne.js":266,"./nl":267,"./nl-be":268,"./nl-be.js":268,"./nl.js":267,"./nn":269,"./nn.js":269,"./pa-in":270,"./pa-in.js":270,"./pl":271,"./pl.js":271,"./pt":272,"./pt-br":273,"./pt-br.js":273,"./pt.js":272,"./ro":274,"./ro.js":274,"./ru":275,"./ru.js":275,"./sd":276,"./sd.js":276,"./se":277,"./se.js":277,"./si":278,"./si.js":278,"./sk":279,"./sk.js":279,"./sl":280,"./sl.js":280,"./sq":281,"./sq.js":281,"./sr":282,"./sr-cyrl":283,"./sr-cyrl.js":283,"./sr.js":282,"./ss":284,"./ss.js":284,"./sv":285,"./sv.js":285,"./sw":286,"./sw.js":286,"./ta":287,"./ta.js":287,"./te":288,"./te.js":288,"./tet":289,"./tet.js":289,"./tg":290,"./tg.js":290,"./th":291,"./th.js":291,"./tl-ph":292,"./tl-ph.js":292,"./tlh":293,"./tlh.js":293,"./tr":294,"./tr.js":294,"./tzl":295,"./tzl.js":295,"./tzm":296,"./tzm-latn":297,"./tzm-latn.js":297,"./tzm.js":296,"./ug-cn":298,"./ug-cn.js":298,"./uk":299,"./uk.js":299,"./ur":300,"./ur.js":300,"./uz":301,"./uz-latn":302,"./uz-latn.js":302,"./uz.js":301,"./vi":303,"./vi.js":303,"./x-pseudo":304,"./x-pseudo.js":304,"./yo":305,"./yo.js":305,"./zh-cn":306,"./zh-cn.js":306,"./zh-hk":307,"./zh-hk.js":307,"./zh-tw":308,"./zh-tw.js":308};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=313},314:function(t,e,n){"use strict";var r=n(180);n.n(r).a},315:function(t,e,n){(e=n(39)(!1)).push([t.i,"canvas[data-v-a5a2b7c4] {\n  width: 100%;\n}\n",""]),t.exports=e},316:function(t,e,n){"use strict";var r=n(181);n.n(r).a},317:function(t,e,n){(e=n(39)(!1)).push([t.i,".github-corner:hover .octo-arm[data-v-1f817d6a] {\n  -webkit-animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n          animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n}\n@-webkit-keyframes octocat-wave-data-v-1f817d6a {\n0%,\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\n20%,\n  60% {\n    -webkit-transform: rotate(-25deg);\n            transform: rotate(-25deg);\n}\n40%,\n  80% {\n    -webkit-transform: rotate(10deg);\n            transform: rotate(10deg);\n}\n}\n@keyframes octocat-wave-data-v-1f817d6a {\n0%,\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\n20%,\n  60% {\n    -webkit-transform: rotate(-25deg);\n            transform: rotate(-25deg);\n}\n40%,\n  80% {\n    -webkit-transform: rotate(10deg);\n            transform: rotate(10deg);\n}\n}\n@media (max-width: 500px) {\n.github-corner:hover .octo-arm[data-v-1f817d6a] {\n    -webkit-animation: none;\n            animation: none;\n}\n.github-corner .octo-arm[data-v-1f817d6a] {\n    -webkit-animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n            animation: octocat-wave-data-v-1f817d6a 560ms ease-in-out;\n}\n}\n",""]),t.exports=e},318:function(t,e,n){"use strict";n.r(e);n(21),n(14),n(57),n(72),n(73),n(41);var r=n(5),o=n(310),l=n.n(o),c=(n(311),{props:{datasets:{type:Array,required:!0},labels:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{datasets:{deep:!0,handler:function(){this.chart.data.labels=this.labels,this.chart.data.datasets=this.datasets,this.chart.update()}}},mounted:function(){this.chart=new window.Chart(this.$refs.chart,{type:"line",data:{labels:this.labels,datasets:this.datasets},options:{legend:{display:!1}}})}}),d=(n(314),n(20)),h=Object(d.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"chart",attrs:{id:"myChart"}})}),[],!1,null,"a5a2b7c4",null).exports,f=n(309),v={props:{value:{type:String,required:!0}}},j=Object(d.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"h-full",style:{"background-color":this.$color.hex(this.value)}},[this._v("Â ")])}),[],!1,null,null,null).exports,m={components:{ColorSurface:j},props:{value:{type:Array,default:function(){return[]}},options:{type:Array,required:!0}},methods:{updateValue:function(t){var e=t.target.value;this.value.includes(e)?this.$emit("input",this.value.filter((function(t){return t!==e}))):this.$emit("input",[].concat(Object(f.a)(this.value),[e]))}}},w=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-32 overflow-y-scroll"},t._l(t.options,(function(option){return n("div",{key:option.value,staticClass:"m-1"},[n("color-surface",{staticClass:"w-8 inline-block",attrs:{value:option.value}}),t._v(" "),n("input",{attrs:{id:option.value,type:"checkbox"},domProps:{value:option.value,checked:t.value.includes(option.value)},on:{input:t.updateValue}}),t._v(" "),n("label",{staticClass:"pl-1 pr-3",attrs:{for:option.value}},[t._v(t._s(option.label))])],1)})),0)}),[],!1,null,"23a0d804",null).exports,y={components:{ColorSurface:j},props:{value:{type:Object,required:!0},columns:{type:Array,required:!0}},methods:{changeSorting:function(t){this.value.prop===t?this.$emit("input",{prop:this.value.prop,desc:!this.value.desc}):this.$emit("input",{prop:t,desc:!0})}}},k=Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"border-t border-b p-y-2 bg-grey-lighter"},t._l(t.columns,(function(e){return n("div",{key:e.value,staticClass:"cursor-pointer truncate inline-block font-semibold text-sm p-2",class:{"text-black":t.value.prop===e.value,"text-grey-dark":t.value.prop!==e.value},style:{width:e.width+"px"},on:{click:function(n){return t.changeSorting(e.value)}}},[t._v("\n    "+t._s(e.label)+"\n  ")])})),0)}),[],!1,null,"6ea8cbc7",null).exports,C={components:{ColorSurface:j},props:{columns:{type:Array,required:!0},row:{type:Object,required:!0}},methods:{changeSorting:function(t){this.value.prop===t?this.$emit("input",{prop:this.value.prop,desc:!this.value.desc}):this.$emit("input",{prop:t,desc:!0})}}},_={components:{ColorSurface:j,TableHeader:k,TableRow:Object(d.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"border-b "},t.$listeners),t._l(t.columns,(function(e){return n("div",{key:e.value,staticClass:"truncate inline-block text-sm p-2",style:{width:e.width+"px"}},[t._v("\n    "+t._s(t.row[e.value])+"\n    "),t._t("column-"+e.value)],2)})),0)}),[],!1,null,"513bd780",null).exports},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,required:!0}},data:function(){return{sort:{prop:"total_cases",desc:!0}}},computed:{locations:function(){var t=[];return this.data.forEach((function(e){t.includes(e.location)||t.push(e.location)})),t},columns:function(){return[{label:"",value:"color",width:36},{label:"Location",value:"location",width:250},{label:"New Deaths",value:"new_deaths",width:120},{label:"Total Deaths",value:"total_deaths",width:120},{label:"New Cases",value:"new_cases",width:120},{label:"Total Cases",value:"total_cases",width:120}]},width:function(){var t=0;return this.columns.forEach((function(e){t+=e.width})),t},rows:function(){var t=this,e=this.locations.map((function(e){var n=t.data.filter((function(t){return t.location===e})),r=n[n.length-1];return{key:r.location,location:r.location,new_cases:parseInt(r.new_cases||0,10),new_deaths:parseInt(r.new_deaths||0,10),total_cases:parseInt(r.total_cases||0,10),total_deaths:parseInt(r.total_deaths||0,10)}})).sort((function(a,b){return"string"==typeof a[t.sort.prop]?a[t.sort.prop].localeCompare(b[t.sort.prop]):a[t.sort.prop]-b[t.sort.prop]}));return this.sort.desc?e.reverse():e}},methods:{toggleSelection:function(t){this.value.includes(t)?this.$emit("input",this.value.filter((function(e){return e!==t}))):this.$emit("input",[].concat(Object(f.a)(this.value),[t]))}}},x=Object(d.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.width+"px"}},[n("table-header",{staticClass:"sticky top-0",attrs:{columns:t.columns},on:{input:function(e){return t.$emit("columnSelect",e.prop)}},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}}),t._v(" "),n("div",t._l(t.rows,(function(e){return n("table-row",{key:e.key,staticClass:"cursor-pointer hover:opacity-75",class:{"opacity-50":!t.value.includes(e.key)},attrs:{columns:t.columns,row:e},on:{click:function(n){return t.toggleSelection(e.key)}}},[n("color-surface",{staticClass:"rounded-full",class:{"opacity-25":!t.value.includes(e.key)},attrs:{slot:"column-color",value:e.location},slot:"column-color"})],1)})),1)],1)}),[],!1,null,"4c26c65e",null).exports,$={props:{url:{type:String,required:!0}}},z=(n(316),{components:{LineChart:h,MultiSelect:w,LocationTable:x,GithubCorner:Object(d.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"github-corner",attrs:{href:this.url,"aria-label":"View source on GitHub"}},[e("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6\n        C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6\n        130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2\n          139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2\n          159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2\n          C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2\n          216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8\n          198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9\n          152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])}),[],!1,null,"1f817d6a",null).exports},asyncData:function(t){var e=t.$axios;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://covid.ourworldindata.org/data/full_data.csv",t.next=3,e.get("https://covid.ourworldindata.org/data/full_data.csv");case 3:return n=t.sent,(r=l.a.parse(n.data,{header:!0,skipEmptyLines:!0})).errors&&r.errors.length&&console.error(r.errors),t.abrupt("return",{data:r.data});case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{data:[],selected:["World"],selectedColumn:"total_cases"}},computed:{lastUpdate:function(){return this.dates[this.dates.length-1]},filteredData:function(){var t=this;return this.data.filter((function(e){return t.selected.includes(e.location)}))},dates:function(){var t=[];return this.data.forEach((function(e){t.includes(e.date)||t.push(e.date)})),t.sort()},datasets:function(){var t=this,e={};return this.filteredData.forEach((function(n){e[n.location]||(e[n.location]=t.getEmptyDataset()),e[n.location][t.dates.indexOf(n.date)]=n[t.selectedColumn]})),Object.keys(e).map((function(n){return{label:n,data:e[n],backgroundColor:t.$color.rgba(n,.2),borderColor:t.$color.rgba(n,.8)}}))}},methods:{getEmptyDataset:function(){return this.dates.map((function(){return 0}))},updateSelectedColumn:function(t){"location"!==t&&(this.selectedColumn=t)}}}),O=Object(d.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col lg:h-screen lg:overflow-hidden"},[n("header",{staticClass:"flex items-center p-8 min-h-72"},[n("h1",[t._v("\n      Corona Virus (COVID-19) Curves\n    ")]),t._v(" "),n("a",{staticClass:"p-4 text-blue no-underline",attrs:{href:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports/"}},[t._v("Data provided by WHO")]),t._v(" "),n("span",{staticClass:"text-grey-dark"},[t._v("Updated: "+t._s(t.lastUpdate))]),t._v(" "),n("github-corner",{attrs:{url:"https://github.com/paul-em/covid-19-curves"}})],1),t._v(" "),n("div",{staticClass:"flex flex-1 flex-col-reverse lg:overflow-hidden lg:flex-row"},[n("section",{staticClass:"flex flex-col lg:overflow-y-scroll overflow-x-auto"},[n("location-table",{attrs:{data:t.data},on:{columnSelect:t.updateSelectedColumn},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._v(" "),n("section",{staticClass:"flex flex-col flex-1 mx-4"},[n("line-chart",{attrs:{datasets:t.datasets,labels:t.dates}})],1)])])}),[],!1,null,null,null);e.default=O.exports}}]);